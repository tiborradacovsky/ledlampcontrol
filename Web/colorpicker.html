<html>
	<head>
		<link rel="shortcut icon" type="image/png" href="Colorwheel-Circle-256.png"/>
		<title>Colorpicker</title>
		<script src="jquery-3.1.1.min.js"></script>
		<script src="filesaver.js"></script>
		<script src="jscolor.js"></script>
		<link rel="stylesheet" type="text/css" href="stylesheet.css"
	</head>
	<body>
		<input id="color" maxlength=6>
		<button id="confirm">Confirm</button>
		<script>
			var hex =["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F"];
			var r_g_b = Math.round(Math.random()*2); 
			console.log();
			switch (r_g_b){
				case 0:
					var hexCol = "FF"+hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)];
					$("input").val(hexCol);
					break;
				case 1:
					var hexCol = hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)]+"FF"+hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)];
					$("input").val(hexCol);
					break;
				case 2:
					var hexCol = hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)]+hex[Math.round(Math.random()*15)]+"FF";
					$("input").val(hexCol);	
			};		
			var width=$( window ).width();
			var height=$( window ).height();
			var picker_class;
			if(width>1080){
				var width_picker= width*0.5-25;
				var height_picker= height*0.6;
				picker_class="jscolor {width:"+width_picker+", height:"+height_picker+", position:'right'}";
				$("input").addClass(picker_class);
			} else if (width<=1080){
				var width_picker= width*0.95-50;
				var height_picker= height*0.6;
				picker_class="jscolor {width:"+width_picker+", height:"+height_picker+", position:'bottom'}";
				$("input").addClass(picker_class);
			};
			/*$(window).resize(function(){
				width=$( window ).width();
				height=$( window ).height();
				if(width>height){
					$("input").removeClass(picker_class);
					var width_picker= width*0.7;
					var height_picker= height*0.90;
					picker_class="jscolor {width:"+width_picker+", height:"+height_picker+", position:'right'}";
					$("input").addClass(picker_class);
				} else if (width<=height){
					$("input").removeClass(picker_class);
					var width_picker= width*0.85;
					var height_picker= height*0.75;
					picker_class="jscolor {width:"+width_picker+", height:"+height_picker+", position:'bottom'}";
					$("input").addClass(picker_class);
				};
			});*/
			$(document).ready(function(){
				/*$("#color").removeClass("jscolor {width:500, height:300, position:'right'}"
				var width=$( window ).width();
				var height=$( window ).height();
				console.log(width);
				console.log(height);
				if(width>height){
					var width_picker= width*0.75;
					var height_picker= height*0.90;
					var picker_class="jscolor {width:"+width_picker+", height:"+height_picker+", position:'right'}";
					$("input").addClass(picker_class);
				} else if (width<=height){
					var width_picker= width*0.90;
					var height_picker= height*0.75;
					var picker_class="jscolor {width:"+width_picker+", height:"+height_picker+"}";
					$("input").addClass(picker_class);
				};
				$(window).resize(function(){
					var width=$( window ).width();
					var height=$( window ).height();
				});	*/			
				$("button").click(function(){
					var color = $("#color").val().toLowerCase();	
					var blob = new Blob([color], {type: "text/plain;charset=utf-8"});
					saveAs(blob, "led.conf");
				});
				/*$("input").mouseleave(function(){
					$("body>div").animate({width: 700,height:500});
					$("body>div>div>div").animate({width: 700,height:500});
					$("canvas").animate({width:650,height:475});
				});*/

				$("input").click(function(){
					$('body>div').hide();
					$('body>div').show(1000);
				});
			});
		</script>
	</body>	
</html>
		